<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script>
    var nums = [-2,1,-3,4,-1,2,1,-5,4]
    function fun(nums){
        var sum = nums[0]
        var n = nums[0]
        for (var i = 1;i <nums.length;i++){
            if (n > 0){
                n+=nums[i]
            }else{
                n=nums[i]
            }
            if (sum<n){
                sum=n
            }
        }
        return sum
    }
    console.log(fun(nums))
</script>
</body>
</html>